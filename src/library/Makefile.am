lib_LTLIBRARIES = libtas.la

libtas_la_SOURCES = backtrace.cpp DeterministicTimer.cpp dlhook.cpp frame.cpp glibwrappers.cpp global.cpp GlobalState.cpp hook.cpp localewrappers.cpp logging.cpp main.cpp mallocwrappers.cpp NonDeterministicTimer.cpp openglwrappers.cpp pthreadwrappers.cpp randomwrappers.cpp ScreenCapture.cpp SDLEventQueue.cpp sdldisplay.cpp sdldynapi.cpp sdlevents.cpp sdlmain.cpp sdlmutex.cpp sdlrender.cpp sdlthreads.cpp sdltimer.cpp sdlversion.cpp sdlwindows.cpp signalwrappers.cpp sleepwrappers.cpp TimeHolder.cpp timewrappers.cpp tlswrappers.cpp Utils.cpp WindowTitle.cpp XlibEventQueue.cpp xatom.cpp xdisplay.cpp xevents.cpp xf86vidmode.cpp xinerama.cpp xrandr.cpp xwindows.cpp audio/AudioBuffer.cpp audio/AudioContext.cpp audio/AudioPlayer.cpp audio/AudioSource.cpp audio/DecoderMSADPCM.cpp audio/alsa/control.cpp audio/alsa/pcm.cpp audio/fluidsynth/fluidsynth.cpp audio/fmod/fmod.cpp audio/openal/al.cpp audio/openal/alc.cpp audio/openal/efx.cpp audio/sdl/sdlaudio.cpp checkpoint/AltStack.cpp checkpoint/Checkpoint.cpp checkpoint/ProcMapsArea.cpp checkpoint/ProcSelfMaps.cpp checkpoint/ReservedMemory.cpp checkpoint/SaveState.cpp checkpoint/ThreadLocalStorage.cpp checkpoint/ThreadManager.cpp checkpoint/ThreadSync.cpp encoding/AVEncoder.cpp encoding/NutMuxer.cpp fileio/FileHandleList.cpp fileio/generaliowrappers.cpp fileio/posixiowrappers.cpp fileio/SaveFile.cpp fileio/SaveFileList.cpp fileio/stdiowrappers.cpp inputs/evdev.cpp inputs/inputevents.cpp inputs/inputs.cpp inputs/ioctl_joy.cpp inputs/jsdev.cpp inputs/keyboard_helper.cpp inputs/sdlgamecontroller.cpp inputs/sdlhaptic.cpp inputs/sdljoystick.cpp inputs/sdlkeyboard.cpp inputs/sdlkeyboardlayout.cpp inputs/sdlpointer.cpp inputs/sdltextinput.cpp inputs/udevwrappers.cpp inputs/xcbkeyboard.cpp inputs/xkeyboard.cpp inputs/xkeyboardlayout.cpp inputs/xinput.cpp inputs/xpointer.cpp renderhud/RenderHUD_GL.cpp renderhud/RenderHUD_SDL1.cpp renderhud/RenderHUD_SDL2_renderer.cpp renderhud/RenderHUD_SDL2_surface.cpp renderhud/RenderHUD.cpp renderhud/sdl_ttf.cpp renderhud/SurfaceARGB.cpp steam/isteamapps.cpp steam/isteamclient.cpp steam/isteamcontroller.cpp steam/isteamfriends.cpp steam/isteamremotestorage.cpp steam/isteamscreenshots.cpp steam/isteamugc.cpp steam/isteamuser.cpp steam/isteamuserstats.cpp steam/isteamutils.cpp steam/steamapi.cpp steam/steamapiinternal.cpp ../shared/AllInputs.cpp ../shared/SingleInput.cpp ../shared/sockethelpers.cpp

libtas_la_CXXFLAGS = -fPIC -shared -fvisibility=hidden -Wall -fno-stack-protector
libtas_la_LDFLAGS = -shared -module

if BUILD32LIB
lib_LTLIBRARIES += libtas32.la
libtas32_la_SOURCES = $(libtas_la_SOURCES)
libtas32_la_CXXFLAGS = -m32 $(libtas_la_CXXFLAGS)
libtas32_la_LDFLAGS = $(libtas_la_LDFLAGS)
endif
